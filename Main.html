<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/focus-visible@5.1.0/dist/focus-visible.js"></script>
    <title>Lenape man in Amsterdam</title>
</head>

<body>
    <a-scene>
        <!-- assets -->
        <a-assets>
            <a-asset-item id="watcher" src="Assets/Models/Watcher.glb"></a-asset-item>
            <a-asset-item id="characterModel" src="Assets/Models/Watcher group idle 02.glb"></a-asset-item>
            <a-asset-item id="characterModel2" src="Assets/Models/Watcher group of 4 ver.glb"></a-asset-item>

            <img id="groundText" src="/Assets/Img/ground.webp">
            <img id="boxText" src="/Assets/Img/doos.webp">
            <img id="skyText" src="/Assets/Img/skybox.webp">
            <img id="skyNightText" src="/Assets/Img/nagt skybox-modified.png">

            <!-- Add sound asset -->
            <audio id="backgroundSound" src="/Assets/Sound/BOambience.mp3"></audio>
        </a-assets>

        <a-entity gltf-model="/Assets/Models/Box2GrootNotexture.glb" position="-37 0 6" rotation="0 180 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="/Assets/Models/Box2GrootNotexture.glb" position="-37 1 6" rotation="0 180 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="/Assets/Models/Box2GrootNotexture.glb" position="-37 2 6" rotation="0 180 0" animation-mixer>
        </a-entity>

        <!-- sky -->
        <a-sky id="sky" material="src: #skyNightText; repeat: 2 2" rotation="0 -90 0"></a-sky>

        <!-- Terrain -->
        <a-plane material="src: #groundText; repeat: 20 20 20" width="110" height="80" color="grey"
            position="-0.5 0 -10" rotation="-90 0 0"></a-plane>

        <!-- Water1 -->
        <a-box id="water1" width="10" height="1.5" depth="9.3" position="-47 0 -2.7"
            material="shader: flat; color: #0000FF; opacity: 0.7;"></a-box>

        <!-- Water2 -->
        <a-box id="water2" width="16" height="1.5" depth="9.3" position="-24 0 24.25"
            material="shader: flat; color: #0000FF; opacity: 0.7;"></a-box>

        <!-- Water3 -->
        <a-box id="water3" width="18" height="1.5" depth="9.3" position="34 0 -50.25"
            material="shader: flat; color: #0000FF; opacity: 0.7;"></a-box>
        <!-- Water3 -->
        <a-box id="water3" width="3" height="1" depth="9.3" rotation="0 87.5 0" position="57 0 1.25"
            material="shader: flat; color: #0000FF; opacity: 0.7;"></a-box>

        <!-- bar front -->
        <a-cylinder radius="0.1" height="4" color="#b7b6af" position="1.5 2 -2.5"></a-cylinder>

        <!-- bars left -->
        <a-cylinder radius="0.1" height="4" color="#b7b6af" position="-1.5 2 -2.3" rotation="0 90 0"></a-cylinder>
        <a-cylinder radius="0.1" height="4" color="#b7b6af" position="-1.5 2 0.5" rotation="0 90 0"></a-cylinder>

        <!-- bar right -->
        <a-cylinder radius="0.1" height="4" color="#b7b6af" position="1.5 2 0.5" rotation="0 90 0"></a-cylinder>

        <a-box width="3.5" height="0.1" depth="3" color="grey" position="0 4 -1"></a-box>

        <!-- Boxes -->
        <a-entity id="box1" geometry="primitive: box" material="src: #boxText" position="1.5 1.5 1.5"
            rotation="0 59 0"></a-entity>
        <a-entity id="box2" geometry="primitive: box" material="src: #boxText" position="0.6 0.5 1.5"
            rotation="0 0 0"></a-entity>
        <a-entity id="box3" geometry="primitive: box" material="src: #boxText" position="2 0.5 1.5"
            rotation="0 15 0"></a-entity>
        <a-entity id="box4" geometry="primitive: box" material="src: #boxText" position="0.3 1.5 1.5"
            rotation="0 31 0"></a-entity>
        <a-entity id="box5" geometry="primitive: box" material="src: #boxText" position="-0.6 0.5 1.5"
            rotation="0 5 0"></a-entity>
        <a-entity id="box9" geometry="primitive: box" material="src: #boxText" position="-0.5 2.5 1.5"
            rotation="0 43 0"></a-entity>
        <a-entity id="box10" geometry="primitive: box" material="src: #boxText" position="-4 0.5 1.5"
            rotation="0 75 0"></a-entity>
        <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="4 0.5 1.5"
            rotation="0 200 0"></a-entity>

            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-4 0.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-4 1.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-4 2.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-5 0.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-5 1.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-5 2.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-6 0.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-6 1.5 -46.5"
            rotation="0 0 0"></a-entity>
            <a-entity id="box11" geometry="primitive: box" material="src: #boxText" position="-6 2.5 -46.5"
            rotation="0 0 0"></a-entity>

        <!-- Buildings front -->
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #844e35"
            position="-42 0 -50" rotation="0 -90 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/amsterdambuildingV2.glb" change-material-color="color: #645d42"
            position="-17.8 0 -48" rotation="0 -90 0" depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/amsterdambuildingV2.glb" change-material-color="color: #645d42"
            position="-10.75 0 -48" rotation="0 -90 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #844e35"
            position="4 0 -50" rotation="0 -90 0" depth="-5"></a-entity>

        <!-- Buildings left -->
        <a-entity gltf-model="Assets/Models/oud gebouw 3 met kleur.glb" change-material-color="color: #844e35"
            position="-45 0 -39" rotation="0 360 0" depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/oud gebouw 3 met kleur.glb" change-material-color="color: #844e35"
            position="-45 0 -31" rotation="0 360 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #645d42"
            position="-45 0 -5" rotation="0 360 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #844e35"
            position="-45 0 23" rotation="0 360 0" depth="-5"></a-entity>
        <a-entity gltf-model="models/amsterdambuilding.glb" change-material-color="color: #844e35"
            material="color: yellow" position="-45 -10" rotation="0 360 0" depth="-5"></a-entity>

        <!-- Buildings Right -->
        <a-entity gltf-model="Assets\Models\oud gebouwen met kleur.glb" change-material-color="color: #844e35"
            position="55 0 -48" rotation="0 -180 0" depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #844e35"
            position="55 0 -29" rotation="0 -180 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #645d42"
            position="55 0 0" rotation="0 -180 0" depth="-5"></a-entity>

        <!-- Buildings Back -->
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #645d42"
            position="52 0 24" rotation="0 90 0" depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/oud huis met uv.glb" change-material-color="color: #844e35"
            position="22 0 24" rotation="0 270 0" depth="-5"></a-entity>
  
        <a-entity gltf-model="Assets/Models/old amsterdam buildings.glb" change-material-color="color: #645d42"
            position="6 0 24" rotation="0 90 0" depth="-5"></a-entity>

        <!-- WAGEN -->
        <a-entity gltf-model="Assets/Models/WAGENnotexture.glb" change-material-color="color: #964B00"
            position="35 0 15" rotation="0 50 0" depth="-5"></a-entity>

        <!-- WAGEN2 -->
        <a-entity gltf-model="Assets/Models/WAGENnotexture.glb" change-material-color="color: #964B00"
            position="26.7 0 -15" rotation="0 55 0" depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/Box2GrootNotexture.glb" position="21.5 1.2 -18.6 " rotation="0 55 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/Box2GrootNotexture.glb" position="21.5 1.7 -18.6 " rotation="0 55 0"
            depth="-5"></a-entity>

        <!-- WAGEN3 -->
        <a-entity gltf-model="Assets/Models/WAGENnotexture.glb" change-material-color="color: #964B00"
            position="-38.5 0 -17" rotation="0 230 0" depth=""></a-entity>

        <!-- Lamps -->
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="37 0 15" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-2 0 19" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-40 0 17" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="30 0 17" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="26 0 -17.5" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="24 0 -14.5" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-36 0 -17.5" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-39 0 -14.5" rotation="0 50 0"
            depth="-5"></a-entity>
        <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-39 0 -24.5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-39 0 -44.5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-34 0 -44.5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-29 0 -44.5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-24 0 -44.5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-19 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-14 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-9 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="-4 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="0 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="4 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="9 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="13 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="17 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="21 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="24 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="42.5 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="50.5 0 -44" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -40" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -35" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -30" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -25" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -20" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -15" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -10" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 -5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 0" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 5" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 10" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 15" rotation="0 50 0"
            depth="-5"></a-entity>
            <a-entity gltf-model="Assets/Models/LampPostBase.glb" position="48.5 0 20" rotation="0 50 0"
            depth="-5"></a-entity>

            

        <!-- Standing next to WAGEN -->
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="32 -0.03 10" rotation="0 180 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="29 -0.03 12" rotation="0 180 0" animation-mixer>
        </a-entity>

        <a-entity gltf-model="Assets/Models/Watcher.glb" position="20 -0.03 -18" rotation="0 80 0">
        </a-entity>

        <!-- Bridge -->
    <a-entity gltf-model="Assets/Models/Brug.glb" position="-25 -1 8" rotation="0 180 0"></a-entity>
    <a-entity gltf-model="Assets/Models/Brug.glb" position="-21.7 -1 40" rotation="0 360 0"></a-entity>



    <a-scene>
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="20 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: 20 -0.03 10.5; dur: 19500; easing: linear; loop: true"></a-entity>
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="15 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: 15 -0.03 -7; dur: 18000; easing: linear; loop: true"></a-entity>
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="10 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: 10 -0.03 -7; dur: 16000; easing: linear; loop: true"></a-entity>
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="2 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: 2 -0.03 -7; dur: 15000; easing: linear; loop: true"></a-entity>
                  
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="-10 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: -10 -0.03 -7; dur: 14000; easing: linear; loop: true"></a-entity>
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="-18 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: -18 -0.03 -7; dur: 13000; easing: linear; loop: true"></a-entity>
    
        
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="-29 -0.03 -42.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: -29 -0.03 -7; dur: 23000; easing: linear; loop: true"></a-entity>
    
        <a-entity gltf-model="Assets/Models/Watcher.glb" position="-32 -0.03 -32.5" rotation="0 0 0" animation-mixer 
                  animation="property: position; to: -32 -0.03 -7; dur: 10000; easing: linear; loop: true"></a-entity>
    </a-scene>
    
    <a-scene>
       

    <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="5 -0.03 -1" rotation="0 270 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="4 -0.03 -1" rotation="0 270 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="0 -0.03 -5" rotation="0 0 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="2 -0.03 -5" rotation="0 340 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="3 -0.03 -5" rotation="0 340 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="-3 -0.03 -4" rotation="0 40 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="-4 -0.03 -4" rotation="0 40 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="-5 -0.03 -0.5" rotation="0 90 0" animation-mixer>
        </a-entity>
        <a-entity gltf-model="Assets/Models/Watcher group of 4 ver.glb" position="-6 -0.03 -0.5" rotation="0 90 0" animation-mixer>
        </a-entity>
        


        <!-- Rows of characters -->
        <script>
            AFRAME.registerComponent('rows-of-characters', {
                init: function () {
                    const sceneEl = this.el;
                    const rowCount = 0;
                    const initialRadius = 0;
                    const radiusStep = 0;
                    const characterCountPerRow = 0;
                    const angleStep = (-1 * Math.PI) / characterCountPerRow;

                    for (let row = 0; row < rowCount; row++) {
                        const radius = initialRadius + (row * radiusStep);
                        for (let i = 0; i < characterCountPerRow; i++) {
                            const angle = i * angleStep;
                            const x = radius * Math.cos(angle);
                            const z = radius * Math.sin(angle);
                            const dx = 0 - x;
                            const dz = 1.5 - z;
                            const rotationY = Math.atan2(dx, dz) * 180 / Math.PI;

                            const characterEl = document.createElement('a-entity');
                            characterEl.setAttribute('gltf-model', '#watcher');
                            characterEl.setAttribute('position', { x: x, y: -0.03, z: z });
                            characterEl.setAttribute('rotation', { x: 0, y: rotationY, z: 0 });
                            characterEl.setAttribute('animation-mixer', '');
                            sceneEl.appendChild(characterEl);
                        }
                    }
                }
            });

            AFRAME.registerComponent('multiple-characters', {
                init: function () {
                    const sceneEl = this.el;
                    const characterCount = 0;
                    const initialZ = -0;
                    const maxZ = -0;
                    const minX = -0;
                    const maxX = 0;

                    for (let i = 0; i < characterCount; i++) {
                        const z = initialZ - Math.random() * (initialZ - maxZ);
                        const x = minX + Math.random() * (maxX - minX);
                        const entity = document.createElement('a-entity');
                        entity.setAttribute('gltf-model', '#characterModel2');
                        entity.setAttribute('position', { x: x, y: -0.10, z: z });
                        entity.setAttribute('animation-mixer', '');
                        entity.setAttribute('animation', `property: position; to: ${x} 0 1.5; dur: 32500; easing: linear; loop: true`);
                        sceneEl.appendChild(entity);
                    }
                }
            });

            

            // Custom component to change material color
            AFRAME.registerComponent('change-material-color', {
                schema: {
                    color: { type: 'color', default: '#FFF' }
                },
                init: function () {
                    const model = this.el.getObject3D('mesh');
                    if (model) {
                        this.changeColor(model);
                    } else {
                        this.el.addEventListener('model-loaded', (e) => {
                            this.changeColor(e.detail.model);
                        });
                    }
                },
                changeColor: function (model) {
                    model.traverse((node) => {
                        if (node.isMesh) {
                            node.material.color.set(this.data.color);
                        }
                    });
                }
            });
             AFRAME.registerComponent('multiple-characters', {
                init: function () {
                    const sceneEl = this.el;
                    const characterCount = 0;
                    const initialZ = -0;
                    const maxZ = -0;
                    const minX = -0;
                    const maxX = 0;

                    for (let i = 0; i < characterCount; i++) {
                        const z = initialZ - Math.random() * (initialZ - maxZ);
                        const x = minX + Math.random() * (maxX - minX);
                        const entity = document.createElement('a-entity');
                        entity.setAttribute('gltf-model', '#characterModel2');
                        entity.setAttribute('position', { x: x, y: -0.0, z: z });
                        entity.setAttribute('animation-mixer', '');
                        entity.setAttribute('animation', `property: position; to: ${x} 0 1.5; dur: 32500; easing: linear; loop: true`);
                        sceneEl.appendChild(entity);
                    }
                }
            });

            

            // Custom component to change material color
            AFRAME.registerComponent('change-material-color', {
                schema: {
                    color: { type: 'color', default: '#FFF' }
                },
                init: function () {
                    const model = this.el.getObject3D('mesh');
                    if (model) {
                        this.changeColor(model);
                    } else {
                        this.el.addEventListener('model-loaded', (e) => {
                            this.changeColor(e.detail.model);
                        });
                    }
                },
                changeColor: function (model) {
                    model.traverse((node) => {
                        if (node.isMesh) {
                            node.material.color.set(this.data.color);
                        }
                    });
                }
            });
        </script>

        <a-entity rows-of-characters></a-entity>
        <a-entity multiple-characters></a-entity>

        <!-- Background sound -->
        <a-sound src="#backgroundSound" autoplay="true" loop="true" volume="0"></a-sound>

        <!-- Applying the custom component to change the color -->
        <!--<a-entity gltf-model="#characterModel" change-material-color="color: #FF0000" position="0 0 0"></a-entity>-->

    </a-scene>
</body>

</html>